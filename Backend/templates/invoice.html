<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Recibo {{ receipt_number }}</title>
    <style>
      @page {
        size: A4;
        margin: 0;
      }

      body {
        font-family: "Lato", sans-serif;
        font-size: 10pt;
        color: #333;
        margin: 0;
      }

      .receipt-container {
        height: 14.85cm;
        width: 21cm;
        padding: 2cm;
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: column;
      }
    </style>
  </head>

  <body>
    <div class="receipt-container">
      <div class="header">
        <div class="company-details">
          <p class="company-name">{{ company_name }}</p>
          <p>{{ company_address }}</p>
          <p>{{ company_contact }}</p>
        </div>
        <div class="receipt-title">RECIBO</div>
      </div>

      <div class="details-section">
        <div class="client-info">
          <h2>CLIENTE</h2>
          <p><strong>{{ client_name }}</strong></p>
          <p>{{ client_address }}</p>
          <p>Email: {{ client_email }}</p>
        </div>
        <div class="receipt-info">
          <p><strong>RECIBO N°:</strong> {{ receipt_number }}</p>
          <p><strong>FECHA DE PAGO:</strong> {{ payment_date }}</p>
        </div>
      </div>

      <table class="items-table">
        <thead>
          <tr>
            <th>Descripción</th>
            <th class="text-right">Cantidad</th>
            <th class="text-right">Precio Unit.</th>
            <th class="text-right">Total</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ item_description }}</td>
            <td class="text-right">1</td>
            <td class="text-right">{{ "%.2f €"|format(base_amount) }}</td>
            <td class="text-right">{{ "%.2f €"|format(base_amount) }}</td>
          </tr>
          {% if late_fee > 0 %}
          <tr>
            <td>Recargo por mora</td>
            <td class="text-right">1</td>
            <td class="text-right">{{ "%.2f €"|format(late_fee) }}</td>
            <td class="text-right">{{ "%.2f €"|format(late_fee) }}</td>
          </tr>
          {% endif %}
          <tr class="total-row">
            <td colspan="2">MÉTODO DE PAGO: N/A (Factura)</td>
            <td class="text-right">TOTAL PAGADO</td>
            <td class="text-right">{{ "%.2f €"|format(total_paid) }}</td>
          </tr>
        </tbody>
      </table>

      <div class="footer">
        <p><strong>Gracias por su pago.</strong></p>
        <p>Notas: Factura {{ receipt_number }}. Vence el {{ due_date }}.</p>
      </div>
    </div>
    <div class="cutting-mark"></div>
  </body>
</html>
